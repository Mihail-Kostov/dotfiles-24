#!/usr/bin/dash
# sdothum - 2016 (c) wtfpl

# Dev
# ▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂

# ......................................................... Revision differences

usage() {
  echo "usage: $(basename $0) <package> [folders]"
  exit 1
}

# diff current sources with dotfiles git repo
dotfiles=/net/depot/dotfiles
current=$HOME/stow

[ $1 ] || usage
[ -d $HOME/stow/$1 ] || usage

if [ -d $dotfiles ] ;then
  cd $dotfiles
  if-no "sync $dotfiles repo" || git pull
  cd -
else
  git clone git@github.com:sdothum/dotfiles.git $dotfiles
fi

dirdiff $current/$1 $dotfiles/$1 "$2"

# vim: set ft=sh: #
