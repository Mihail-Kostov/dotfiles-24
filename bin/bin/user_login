#!/usr/bin/dash
# sdothum - 2016 (c) wtfpl

# Shell
# ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬

# ................................................................ Session login
 
# console login check
if tty | grep -q '/dev/tty[1-9]' ;then
  echo
elif [ -e /tmp/term:fortune ] ;then
  if ! [ -e /tmp/herbstluftwm:fortune ] ;then
    # su notify to apply user notification (spec)
    [ $USER = root ] && su -c "time=15 notify --urgency=critical \"$(fortune)\"" - shum 2>/dev/null \
                      || time=15 notify "$(fortune)" 2>/dev/null
    # one fortune is enough
    touch /tmp/herbstluftwm:fortune
  fi
  # see (herbstluftwm) term
  rm -f /tmp/term:fortune 2>/dev/null
fi

# vim: set ft=sh: #
