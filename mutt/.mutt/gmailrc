# ~/.config/mail/mutt/gmailrc
# folder-hook for +gmail/.*

set from = "sdothum@gmail.com"
my_hdr From: Steven Hum <sdothum@gmail.com>
#set signature = ~/.signature

set copy = no
set record = "+sdothum/system/Sent"
set postponed = "+sdothum/system/Drafts"
# the inbox that will open by default
set spoolfile = "+sdothum/gmail"

# pgp settings
unmy_hdr X-PGP-Key
set pgp_autosign = no

# move to spam
macro index,pager S "<save-message>=sdothum/system/Spam<enter>"
# set up trash
folder-hook . "macro index d <save-message>=sdothum/system/Trash<enter>"
folder-hook . "macro pager d <exit><save-message>=sdothum/system/Trash<enter>"
folder-hook =sdothum/system/Trash "macro index,pager d <delete-message>"
# empty trash
macro index,pager () "<shell-escape>imapfilter -v -c ~/.config/mail/imapfilter/trash-gmail.lua<enter>" "empty trash & spam mailboxes"

# Required for msmtp to know which account to use for emails
set use_from = yes
#set sendmail = "/usr/bin/msmtp -a gmail"
# queue messages offline for cron delivery
set sendmail = "/usr/local/bin/msmtp-enqueue.sh -a gmail"
#macro index,pager $ "<shell-escape>/usr/local/bin/msmtp-runqueue.sh<enter>" "send mail queue"
